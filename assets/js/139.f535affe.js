(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{395:function(s,t,a){"use strict";a.r(t);var e=a(25),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#背景"}},[s._v("背景")])]),a("li",[a("a",{attrs:{href:"#步骤"}},[s._v("步骤")]),a("ul",[a("li",[a("a",{attrs:{href:"#更新-win10-到2004版本"}},[s._v("更新 Win10 到2004版本")])]),a("li",[a("a",{attrs:{href:"#启用linux子系统"}},[s._v("启用Linux子系统")])]),a("li",[a("a",{attrs:{href:"#切换系统wsl默认版本到2"}},[s._v("切换系统WSL默认版本到2")])]),a("li",[a("a",{attrs:{href:"#安装ubuntu发行版"}},[s._v("安装Ubuntu发行版")])]),a("li",[a("a",{attrs:{href:"#安装docker"}},[s._v("安装Docker")])]),a("li",[a("a",{attrs:{href:"#关闭虚拟机"}},[s._v("关闭虚拟机")])]),a("li",[a("a",{attrs:{href:"#卸载发行版"}},[s._v("卸载发行版")])])])]),a("li",[a("a",{attrs:{href:"#和宿主机win10文件系统相互访问"}},[s._v("和宿主机Win10文件系统相互访问")]),a("ul",[a("li",[a("a",{attrs:{href:"#在win10下访问linux子系统文件"}},[s._v("在Win10下访问Linux子系统文件")])]),a("li",[a("a",{attrs:{href:"#linux子系统访问win10文件"}},[s._v("Linux子系统访问Win10文件")])]),a("li",[a("a",{attrs:{href:"#和vmware的共存问题"}},[s._v("和VMWare的共存问题")])])])]),a("li",[a("a",{attrs:{href:"#docker-desktop-for-windows"}},[s._v("Docker Desktop for Windows")])]),a("li",[a("a",{attrs:{href:"#迁移wsl-到非系统盘"}},[s._v("迁移WSL 到非系统盘")])]),a("li",[a("a",{attrs:{href:"#faq"}},[s._v("FAQ")]),a("ul",[a("li",[a("a",{attrs:{href:"#systemctl命令无法使用"}},[s._v("systemctl命令无法使用")])])])])])]),a("p"),s._v(" "),a("h1",{attrs:{id:"背景"}},[s._v("背景")]),s._v(" "),a("p",[s._v("由于新款Mac性价比走低，近期转为使用Windows作为主力开发系统。但是在开发过程中需要上Linux测试，或者说部署一些服务，例如MySQL，Nexus OSS等。本人又是一个Docker重度依赖者。之前一直是长期在Windows下启动一个Linux虚拟机辅助开发操作。占用大量磁盘内存资源不说，操作和维护也极为繁琐。")]),s._v(" "),a("p",[s._v("直到近期了解到Win10 2004正式版版本支持WSL2，问题得到了完美的解决。WSL2相比WSL1来说可以完美支持Docker。与WSL1的模拟Linux API不同的是，WSL2采用在Hyper-V虚拟机中运行的方案。可以说WSL2和原汁原味的Linux已经十分接近。本人实验了一番，安装部署成功，将整个步骤分享给大家。")]),s._v(" "),a("h1",{attrs:{id:"步骤"}},[s._v("步骤")]),s._v(" "),a("p",[s._v("下面为大家详细介绍具体的操作步骤。")]),s._v(" "),a("h2",{attrs:{id:"更新-win10-到2004版本"}},[s._v("更新 Win10 到2004版本")]),s._v(" "),a("p",[s._v("使用Windows Update自动更新到2004版本。如果没有检测到更新，可以去微软官网下载“易升”工具并安装运行。工具会检测到更新并安装。")]),s._v(" "),a("h2",{attrs:{id:"启用linux子系统"}},[s._v("启用Linux子系统")]),s._v(" "),a("p",[s._v("打开 控制面板 -> 程序 -> 启用或关闭Windows功能。找到“适用于Linux的Windows子系统”和“虚拟机平台”，勾选这两项之后确定，并重新启动计算机。")]),s._v(" "),a("h2",{attrs:{id:"切换系统wsl默认版本到2"}},[s._v("切换系统WSL默认版本到2")]),s._v(" "),a("p",[s._v("使用管理员用户打开CMD，运行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("wsl --set-default-version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("注意，有可能会出现如下提示：")]),s._v(" "),a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[s._v("WSL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 需要更新其内核组件。有关信息，请访问 https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//aka.ms/wsl2kernel")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("出现这个提示，说明需要更新WSL2的内核。按照提示打开"),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Faka.ms%2Fwsl2kernel",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://aka.ms/wsl2kernel"),a("OutboundLink")],1),s._v("链接。点击下图中的下载链接，下载并安装WSL2内核。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6645072-c8430d6c05bcebe8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/692/format/webp",alt:""}})]),s._v(" "),a("p",[s._v("WSL2内核下载链接")]),s._v(" "),a("h2",{attrs:{id:"安装ubuntu发行版"}},[s._v("安装Ubuntu发行版")]),s._v(" "),a("p",[s._v("打开Microsoft Store，搜索ubuntu，界面如下所示：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6645072-81af7947bef4964a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/990/format/webp",alt:""}})]),s._v(" "),a("p",[s._v("Ubuntu搜索页面")]),s._v(" "),a("p",[s._v("根据自己的需要，选择对应的Ubuntu版本并安装。\n完成之后在开始菜单会出现Ubuntu菜单项。打开它，Ubuntu将会进行初始化操作。等待几分钟后按照提示，为Ubuntu设置用户名和密码。\n最后，我们需要验证Ubuntu是否在WSL2的环境下启动。以管理员用户打开CMD，执行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("wsl -l -v\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("如果看到如下信息：")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("  NAME            STATE           VERSION\n* Ubuntu-20.04    Running         2\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("说明Ubuntu在WSL2环境下运行。到此为止安装完毕。\n如果发现VERSION为1，说明Ubuntu运行在WSL1下。需要手工切换。\n首先关闭WSL下运行的Linux，执行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("wsl --shutdown\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("然后执行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("wsl --set-version "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Linux发行版名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("其中Linux发行版名称为前面安装的Linux名称，可以通过"),a("code",[s._v("wsl -l -v")]),s._v("命令查看。执行命令后等待片刻。等命令行提示转换完成，我们已经成功将Linux切换到WSL2环境。")]),s._v(" "),a("h2",{attrs:{id:"安装docker"}},[s._v("安装Docker")]),s._v(" "),a("p",[s._v("首先进入Ubuntu shell，更换Ubuntu官方源为国内源，加快下载速度。执行。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/apt/sources.list\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("将内容替换为下方：")]),s._v(" "),a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[s._v("deb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal main restricted")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal-updates main restricted")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal universe")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal-updates universe")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal multiverse")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal-updates multiverse")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal-security main restricted")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal-security universe")]),s._v("\ndeb http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mirrors.aliyun.com/ubuntu/ focal-security multiverse")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("接下来添加Docker源：\n依次执行如下命令：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -fsSL https://download.docker.com/linux/ubuntu/gpg "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deb [arch=amd64] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu \\\n   '),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("lsb_release -cs"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(' \\\n   stable"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("配置完成软件源之后下一步是安装Docker，命令如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y docker-ce\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("最后一个步骤，启动Docker daemon。但是此处有一个问题，WSL2经过测试无法使用"),a("code",[s._v("systemctl")]),s._v("命令（此问题已经解决，参见博客末尾FAQ），因此我们使用"),a("code",[s._v("service")]),s._v("命令启动Docker daemon。命令如下所示：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" docker start\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("至此，Docker 在WSL2下安装完毕。")]),s._v(" "),a("p",[s._v("注：WSL2 Docker最爽的地方是和宿主机Win10共享network，我们在宿主机Win10使用localhost加端口号就可以访问Docker中对应container中的服务，十分方便。")]),s._v(" "),a("h2",{attrs:{id:"关闭虚拟机"}},[s._v("关闭虚拟机")]),s._v(" "),a("p",[s._v("WSL2实际上是在虚拟机中运行。我们一旦进入WSL2 Linux的命令行，虚拟机会自动启动运行。如果我们查看任务管理器，会发现一个Vmmem进程。如下所示：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6645072-8b7de278192d1b37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/602/format/webp",alt:""}})]),s._v(" "),a("p",[s._v("Vmmem进程")]),s._v(" "),a("p",[s._v("该进程是虚拟机的进程。它比较占内存。不使用WSL2的时候我们可以关闭它以节省内存。关闭WSL2 Linux的方法如下。使用管理员打开CMD，运行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("wsl --shutdown\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"卸载发行版"}},[s._v("卸载发行版")]),s._v(" "),a("p",[s._v("有时候某个Linux发行版不再使用，或者是环境被搞坏需要重装，这时候我们可以卸载掉这个Linux发行版。方法如下。\n首先使用：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("wslconfig /l\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("命令查看系统内安装的Linux发行版。\n然后使用：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("wslconfig /u "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("发行版名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("卸载掉指定的发行版Linux。")]),s._v(" "),a("h1",{attrs:{id:"和宿主机win10文件系统相互访问"}},[s._v("和宿主机Win10文件系统相互访问")]),s._v(" "),a("h2",{attrs:{id:"在win10下访问linux子系统文件"}},[s._v("在Win10下访问Linux子系统文件")]),s._v(" "),a("p",[s._v("进入CMD或者PowerShell，输入：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("wsl$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Ubuntu-20.04"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("可以进入到Linux子系统根目录。如下图所示：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6645072-861e342815516794.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/607/format/webp",alt:""}})]),s._v(" "),a("p",[s._v("CMD进入Linux子系统根目录")]),s._v(" "),a("p",[s._v("或者打开文件资源管理器，在地址栏输入"),a("code",[s._v("\\\\wsl$\\Ubuntu-20.04")]),s._v("，也可以跳转到Linux子系统根目录。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6645072-a43d0287833378f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/663/format/webp",alt:""}})]),s._v(" "),a("p",[s._v("文件资源管理器进入Linux子系统根目录")]),s._v(" "),a("h2",{attrs:{id:"linux子系统访问win10文件"}},[s._v("Linux子系统访问Win10文件")]),s._v(" "),a("p",[s._v("进入Linux子系统运行"),a("code",[s._v("df -h")]),s._v("，看到如下输出：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6645072-e07803cc2f4abc5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/509/format/webp",alt:""}})]),s._v(" "),a("p",[s._v("df -h输出")]),s._v(" "),a("p",[s._v("注意观察后两行。本人电脑有两个分区。 "),a("code",[s._v("/mnt/c")]),s._v("和"),a("code",[s._v("/mnt/d")]),s._v("正好分别对应本机的C盘和D盘。")]),s._v(" "),a("h2",{attrs:{id:"和vmware的共存问题"}},[s._v("和VMWare的共存问题")]),s._v(" "),a("p",[s._v("目前VMWare 15版本无法在启用Hyper-V虚拟机，即启用WSL2的Win10上运行。但是经过本人实验，VMWare最新的测试版是可以和Hyper-V共存的。下面是测试版VMWare的下载链接：\n"),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fdownload3.vmware.com%2Fsoftware%2Fwkst%2Ffile%2FVMware-workstation-full-e.x.p-16227267.exe",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://download3.vmware.com/software/wkst/file/VMware-workstation-full-e.x.p-16227267.exe"),a("OutboundLink")],1),s._v("\n下载安装包之后，按照向导提示升级安装VMWare即可。该版本VMWare可以和WSL2完美共存。")]),s._v(" "),a("h1",{attrs:{id:"docker-desktop-for-windows"}},[s._v("Docker Desktop for Windows")]),s._v(" "),a("p",[s._v("后来发现Docker Desktop windows版已经能够支持WSL作为Docker Engine运行，可以同时支持在Linux和Windows命令行下操作docker，这样远比前文中单独安装Linux Docker使用起来灵活。下面将安装Docker Desktop for Windows的方法分享。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("浏览器打开"),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwww.docker.com%2Fproducts%2Fdocker-desktop",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.docker.com/products/docker-desktop"),a("OutboundLink")],1),s._v("\n点击Download for Windows (stable)，下载Docker安装程序。")])]),s._v(" "),a("li",[a("p",[s._v("确保WSL内的Docker已经卸载，如果没有卸载，可以执行：")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" remove docker-ce\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" remove docker-ce-cli\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[s._v("双击下载的安装程序安装，记住选择使用WSL作为Docker引擎。")])]),s._v(" "),a("li",[a("p",[s._v("在Windows注销当前用户重新登录。到此Docker Desktop for Windows安装完毕。")])])]),s._v(" "),a("p",[s._v("注意：如果发现在WSL下无法执行docker命令，可以通过如下操作打开：\n进入Docker Desktop的settings，如下所示：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6645072-df39400a5cc3551b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp",alt:""}})]),s._v(" "),a("p",[s._v("Settings界面")]),s._v(" "),a("p",[s._v("依次点击Resources -> WSL INTEGRATION，打开右侧的Ubuntu开关，点击对话框右下角的Apply & Restart按钮")]),s._v(" "),a("h1",{attrs:{id:"迁移wsl-到非系统盘"}},[s._v("迁移WSL 到非系统盘")]),s._v(" "),a("p",[s._v("默认WSL总是安装到C盘，这样对于C盘空间紧张的用户完全不友好。")]),s._v(" "),a("p",[s._v("我们可以使用LxRunOffline工具来迁移WSL到其他磁盘分区。")]),s._v(" "),a("p",[s._v("LxRunOffline的下载链接："),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FDDoSolitary%2FLxRunOffline%2Freleases",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/DDoSolitary/LxRunOffline/releases"),a("OutboundLink")],1),s._v("。在Win10 PowerShell运行需要下载"),a("code",[s._v("LxRunOffline-vx.x.x-msvc.zip")]),s._v("版本。解压到任意目录即可使用。")]),s._v(" "),a("blockquote",[a("p",[s._v("LxRunOffline是一个第三方WSL Linux发行版管理工具，可以认为是wsl命令的增强版。它可以安装和卸载Linux发行版，迁移，复制，导入导出和设置环境变量等。具体的使用帮助可执行"),a("code",[s._v(".\\LxRunOffline.exe \\h")]),s._v("查看命令介绍。")])]),s._v(" "),a("p",[s._v("迁移过程分为3步：")]),s._v(" "),a("ol",[a("li",[s._v("获取准备迁移的发行版名称。执行：")])]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("PS "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("C")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\\Users\\xxx\\Desktop> .\\LxRunOffline.exe list\nUbuntu-20.04\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("获取系统当前已安装的发行版。例子中返回的发行版名称为"),a("code",[s._v("Ubuntu-20.04")]),s._v("。")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("执行迁移命令。格式如下：")])]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v(".\\LxRunOffline.exe m -n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("发行版名称")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("目标路径")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("比如我们要将"),a("code",[s._v("Ubuntu-20.04")]),s._v("移动到"),a("code",[s._v("D:\\Ubuntu-20.04")]),s._v("，执行如下命令：")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v(".\\LxRunOffline.exe m -n Ubuntu-20.04 -d "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("D")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\\Ubuntu-20.04\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("等待命令执行完毕返回。")]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("查看迁移后发行版的安装路径。执行：")])]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("PS "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("C")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\\Users\\xxx\\Desktop> .\\LxRunOffline.exe di -n Ubuntu-20.04\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("D")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\\Ubuntu-20.04\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("返回的安装位置是"),a("code",[s._v("D:\\Ubuntu-20.04")]),s._v("，说明迁移成功。")]),s._v(" "),a("h1",{attrs:{id:"faq"}},[s._v("FAQ")]),s._v(" "),a("h2",{attrs:{id:"systemctl命令无法使用"}},[s._v("systemctl命令无法使用")]),s._v(" "),a("p",[s._v("现象为在命令行执行"),a("code",[s._v("systemctl")]),s._v("命令，报如下错误：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("System has not been booted with systemd as init system "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PID "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(". Can't operate.\nFailed to connect to bus: Host is down\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("参考了"),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fforum.snapcraft.io%2Ft%2Frunning-snaps-on-wsl2-insiders-only-for-now%2F13033",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://forum.snapcraft.io/t/running-snaps-on-wsl2-insiders-only-for-now/13033"),a("OutboundLink")],1),s._v("之后给出如下解决方案：")]),s._v(" "),a("ol",[a("li",[s._v("安装daemonize和fontconfig")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y fontconfig daemonize\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("编辑"),a("code",[s._v("/etc/profile")]),s._v("脚本，加入如下内容：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SYSTEMD_PID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/lib/systemd/systemd --system-unit=basic.target$'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v unshare "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -z "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SYSTEMD_PID")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /usr/bin/daemonize /usr/bin/unshare --fork --pid --mount-proc /lib/systemd/systemd --system-unit"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("basic.target\n   "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SYSTEMD_PID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/lib/systemd/systemd --system-unit=basic.target$'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v unshare "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SYSTEMD_PID")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SYSTEMD_PID")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /usr/bin/nsenter -t "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SYSTEMD_PID")]),s._v(" -a "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$LOGNAME")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("修改"),a("code",[s._v("/etc/sudoers")]),s._v("文件，加入如下内容：")])]),s._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("sudo "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NOPASSWD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("daemonize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("unshare "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("fork "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("pid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mount"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("proc "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("systemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("systemd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("system"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("unit"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("basic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("sudo "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NOPASSWD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nsenter "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("t "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a su "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("zA"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Z0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("执行"),a("code",[s._v("source /etc/profile")]),s._v("或者是重新打开terminal，执行"),a("code",[s._v("systemctl")]),s._v("验证是否能够正常操作。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);