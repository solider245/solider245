(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{477:function(s,t,a){"use strict";a.r(t);var e=a(25),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vim粘贴格式错乱解决方法"}},[s._v("Vim粘贴格式错乱解决方法")]),s._v(" "),a("p",[s._v("有问题就解决！")]),s._v(" "),a("h2",{attrs:{id:"两种方法解决"}},[s._v("两种方法解决")]),s._v(" "),a("h3",{attrs:{id:"set-paste法"}},[s._v(":set paste法")]),s._v(" "),a("p",[s._v("在粘贴的时候，先进入set paste模式，然后再输入"),a("code",[s._v("i")]),s._v("进入编辑，这样就能解决了")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(":set "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("paste")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://images-1255533533.cos.ap-shanghai.myqcloud.com/vim-paste.gif",alt:"vim粘贴"}}),s._v("\nvim教程网给我们做了一个不错的动图。")]),s._v(" "),a("p",[s._v("也可以在你的vimrc中，增加这行代码：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pastetoggle")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("F"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v(">")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按F3进入粘贴模式")]),s._v("\nautocmd InsertLeave * "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" nopaste "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出插入模式后自动关闭粘贴模式")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://vimjc.com/vim-autocmd.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vim命令"),a("code",[s._v("autocmd")]),a("OutboundLink")],1),s._v(" 用于指示 Vim 监听某一类事件，一旦该事件发生，Vim 将执行指定的命令。")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("InsertLeave")]),s._v(" 表示 "),a("em",[s._v("离开插入模式")]),s._v(" 事件。如"),a("a",{attrs:{href:"https://vimjc.com/vim-paste.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vim粘贴文本格式错乱"),a("OutboundLink")],1),s._v("介绍，"),a("code",[s._v("paste")]),s._v(" 选项可避免粘贴文本到Vim中出现格式错乱。但是该选项会使得 "),a("code",[s._v("autoindent")]),s._v(" 等选项失效。")])]),s._v(" "),a("blockquote",[a("p",[s._v("所以一般只有在 Vim 插入模式下才会启用 "),a("code",[s._v("paste")]),s._v(" 选项，退出插入模式后关闭对应功能。")])]),s._v(" "),a("p",[s._v("以下设置可完成上述功能，保证退出 Vim 插入模式后自动关闭 "),a("code",[s._v("paste")]),s._v(" 选项。")]),s._v(" "),a("p",[s._v("这样的话，你只要按F3即可进入粘贴模式。F3也可以换成你喜欢的其他键。\n有时候需要取消粘贴模式的话，你也可以输入：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" nopaste\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("来取消粘贴模式。")]),s._v(" "),a("h3",{attrs:{id:"无插件设置法"}},[s._v("无插件设置法")]),s._v(" "),a("p",[s._v("有时候插件放在github，这个时候我们无法安装插件，可以将下列代码直接复制进入你的vimrc配置里。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" Code from:\n"')]),s._v(" http://stackoverflow.com/questions/5585129/pasting-code-into-terminal-window-into-vim-on-mac-os-x\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" then https://coderwall.com/p/if9mda\n"')]),s._v(" and "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" https://github.com/aaronjensen/vimfiles/blob/59a7019b1f2d08c70c28a41ef4e2612470ea0549/plugin/terminaltweaks.vim\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" to fix the escape time problem with insert mode.\n"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" Docs on bracketed paste mode:\n"')]),s._v(" http://www.xfree86.org/current/ctlseqs.html\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" Docs on mapping fast escape codes in vim\n"')]),s._v(" http://vim.wikia.com/wiki/Mapping_fast_keycodes_in_terminal_Vim\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"g:loaded_bracketed_paste"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  finish\nendif\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("let")]),s._v(" g:loaded_bracketed_paste "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("t_ti ."),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\<Esc>[?2004h"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("t_te "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\e"}},[s._v("\\e")]),s._v('[?2004l"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("t_te\n\nfunction"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" XTermPasteBegin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pastetoggle")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("f2"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("paste")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" a:ret\nendfunction\n\nexecute "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"set <f28>=\\<Esc>[200~"')]),s._v("\nexecute "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"set <f29>=\\<Esc>[201~"')]),s._v("\nmap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("expr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("f2"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("8")]),s._v(">")]),s._v(" XTermPasteBegin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"i"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nimap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("expr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("f2"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("8")]),s._v(">")]),s._v(" XTermPasteBegin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nvmap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("expr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("f2"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("8")]),s._v(">")]),s._v(" XTermPasteBegin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncmap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("f2"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("8")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("nop"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\ncmap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("f2"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("nop"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("p",[a("strong",[s._v("代码作用")]),s._v("：")]),s._v(" "),a("blockquote",[a("p",[s._v("您需要使用支持 "),a("a",{attrs:{href:"http://cirw.in/blog/bracketed-paste",target:"_blank",rel:"noopener noreferrer"}},[s._v("方括号粘贴模式"),a("OutboundLink")],1),s._v(" 的现代xterm兼容终端仿真器 。 已知xterm，urxvt，iTerm2，gnome-terminal（以及其他使用libvte的终端）都可以工作。")])]),s._v(" "),a("blockquote",[a("p",[s._v("然后，每当你在 "),a("em",[s._v("插入模式")]),s._v(" ，并使用粘贴到你的终端仿真器 "),a("code",[s._v("command+v")]),s._v(" ， "),a("code",[s._v("shift+insert")]),s._v(" ， "),a("code",[s._v("ctrl+shift+v")]),s._v(" 或者 "),a("code",[s._v("middle-click")]),s._v(" ，VIM将自动 "),a("code",[s._v(":set paste")]),s._v(" 为您服务。")])]),s._v(" "),a("h3",{attrs:{id:"有插件设置法"}},[s._v("有插件设置法")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.vim/bundle "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到你的插件目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/ConradIrwin/vim-bracketed-paste\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"参考文献"}},[s._v("参考文献")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/ConradIrwin/vim-bracketed-paste",target:"_blank",rel:"noopener noreferrer"}},[s._v("VIM缩进插件地址"),a("OutboundLink")],1),s._v(" "),a("a",{attrs:{href:"https://vimjc.com/vim-paste.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vim粘贴格式错乱解决方法-Vim入门教程(16)"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);