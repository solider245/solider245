(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{494:function(s,t,e){"use strict";e.r(t);var i=e(25),a=Object(i.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"python的os模块的文件与目录常用方法"}},[s._v("Python的os模块的文件与目录常用方法")]),s._v(" "),e("p",[s._v("Python的os模块提供了非常丰富的方法用来处理文件和目录。下面介绍在os模块中常用的方法。")]),s._v(" "),e("p",[e("img",{attrs:{src:"http://p6-tt.byteimg.com/large/pgc-image/7e81bd0191cf4109ab6d799ed9252fb4?from=pc",alt:"四十四、Python的os模块的文件与目录常用方法"}})]),s._v(" "),e("p",[s._v("os模块中常用的方法")]),s._v(" "),e("h2",{attrs:{id:"os-access-path-mode"}},[s._v("os.access(path, mode)")]),s._v(" "),e("ul",[e("li",[s._v("方法说明")])]),s._v(" "),e("p",[s._v("os.access(path,mode)方法使用当前的uid/gid尝试访问路径。大部分操作使用有效的uid/gid，因此运行环境可以在suid/sgid环境尝试。")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("语法 os.access(path,mode)")])]),s._v(" "),e("li",[e("p",[s._v("参数说明")])]),s._v(" "),e("li",[e("p",[s._v("path: 要用来检测是否有访问权限的路径")])]),s._v(" "),e("li",[e("p",[s._v("mode: mode为F_OK用来测试路径是否存在，或者它可以是包含R_OK, W_OK或X_OK或其中之一，或者更多。")])]),s._v(" "),e("li",[e("p",[s._v("os.F_OK: 作为access()的mode参数，用来测试path路径是否存在")])]),s._v(" "),e("li",[e("p",[s._v("os.R_OK: 包含在access()的mode参数中，测试path是否可读")])]),s._v(" "),e("li",[e("p",[s._v("os.W_OK: 包含在access()的mode参数中，测试path是否可写")])]),s._v(" "),e("li",[e("p",[s._v("os.X_OK: 包含在access()的mode参数中，测试path是否可执行")])]),s._v(" "),e("li",[e("p",[s._v("返回值： 如果文件允许访问返回True, 否则返回False")])]),s._v(" "),e("li",[e("p",[s._v("实例：")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, sys# 假定/tmp/test.txt文件存在，并有读写权限print(f'F_OK: {os.access('/tmp/test.txt', os.F_OK)}')print(f'R_OK: {os.access('/tmp/test.txt', os.R_OK)}')print(f'W_OK: {os.access('/tmp/test.txt', os.W_OK)}')print(f'X_OK: {os.access('/tmp/test.txt', os.X_OK)}')\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-chdir-path"}},[s._v("os.chdir(path)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("方法说明:")])]),s._v(" "),e("li",[e("p",[s._v("os.chdir(path)用于改变当前的工作目录到指定的路径。")])]),s._v(" "),e("li",[e("p",[s._v("参数说明path: 要切换的新路径")])]),s._v(" "),e("li",[e("p",[s._v("返回值： 如果允许访问返回True, 否则返回False")])]),s._v(" "),e("li",[e("p",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, syspath = '/tmp'# 查看当前的工作目录print(f'当的的工作目录是：{os.getcwd()}')# 修改当前的工作目录os.chdir(path)# 查看修改后的工作目录print(f\"修改后的工作目录是：{os.getcwd()}\")\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-chmod-path-mode"}},[s._v("os.chmod(path, mode)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("os.chmod(path, mode)用于更改文件或目录的权限")])]),s._v(" "),e("li",[e("p",[s._v("语法格式")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("os.chmod(path, mode)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("p",[s._v("参数说明")])]),s._v(" "),e("li",[e("p",[s._v("path: 文件名路径或目录路径")])]),s._v(" "),e("li",[e("p",[s._v("可用以下选项按位或操作生成， 目录的读权限表示可以获取目录里文件名列表， ，执行权限表示可以把工作目录切换到此目录 ，删除添加目录里的文件必须同时有写和执行权限 ，文件权限以用户id->组id->其它顺序检验,最先匹配的允许或禁止权限被应用。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IXOTH:")]),s._v(" 其他用户有执行权0o001")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IWOTH:")]),s._v(" 其他用户有写权限0o002")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IROTH:")]),s._v(" 其他用户有读权限0o004")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IRWXO:")]),s._v(" 其他用户有全部权限(权限掩码)0o007")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IXGRP:")]),s._v(" 组用户有执行权限0o010")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IWGRP:")]),s._v(" 组用户有写权限0o020")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IRGRP:")]),s._v(" 组用户有读权限0o040")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IRWXG:")]),s._v(" 组用户有全部权限(权限掩码)0o070")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IXUSR:")]),s._v(" 拥有者具有执行权限0o100")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IWUSR:")]),s._v(" 拥有者具有写权限0o200")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IRUSR:")]),s._v(" 拥有者具有读权限0o400")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IRWXU:")]),s._v(" 拥有者有全部权限(权限掩码)0o700")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_ISVTX:")]),s._v(" 目录里文件目录只有拥有者才可删除更改0o1000")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_ISGID:")]),s._v(" 执行此文件其进程有效组为文件所在组0o2000")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_ISUID:")]),s._v(" 执行此文件其进程有效用户为文件所有者0o4000")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IREAD:")]),s._v(" windows下设为只读")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("stat.S_IWRITE:")]),s._v(" windows下取消只读")])]),s._v(" "),e("li",[e("p",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, sys, stat# 侯宇/tmp/test.txt文件存在，设置文件可以通过用户组执行os.chmod('/tmp/test.txt', stat.S_IXGRP)# 设置文件可以被其他用户写入os.chmod('/tmp/test.txt', stat.S_IWOTH)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-chown-path-uid-gid"}},[s._v("os.chown(path, uid, gid)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("os.chown() 方法用于更改文件所有者，如果不修改可以设置为 -1, 你需要超级用户权限来执行权限修改操作。只支持在 Unix 下使用。")])]),s._v(" "),e("li",[e("p",[s._v("语法格式")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("os.chown(path, uid, gid)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("p",[s._v("参数说明")])]),s._v(" "),e("li",[e("p",[s._v("path: 设置权限的文件路径")])]),s._v(" "),e("li",[e("p",[s._v("uid: 所属用户id")])]),s._v(" "),e("li",[e("p",[s._v("gid: 所属用户组id")])]),s._v(" "),e("li",[e("p",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, sys# 假定文件/tmp/test.txt文件存在，设置所有者id为100os.chown('/tmp/test.txt', 100, -1)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-chroot-path"}},[s._v("os.chroot(path)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("方法用于更改当前进程的根目录为指定的目录，使用该函数需要管理员权限。")])]),s._v(" "),e("li",[e("p",[s._v("语法格式")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("os.chroot(path)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("代码示例")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, sys# 设置根目录为/tmpos.chroot('/tmp')\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-getcwd"}},[s._v("os.getcwd()")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("方法用于返回当前工作目录。")])]),s._v(" "),e("li",[e("p",[s._v("语法格式")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("os.getcwd()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("示例")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, sys# 切换工作目录os.chdir('/home')# 打印当前的工作目录print(f\"当前的工作目录是：{os.getcwd()}\")\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-listdir-path"}},[s._v("os.listdir(path)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("os.listdir() 方法用于返回指定的文件夹包含的文件或文件夹的名字的列表。这个列表以字母顺序。 它不包括 '.' 和'..' 即使它在文件夹中。只支持在 Unix, Windows 下使用。")])]),s._v(" "),e("li",[e("p",[s._v("语法格式")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("os.listdir(path)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("示例")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, syspath = '/home/mydocument'dirs = os.listdir(path)# 列出所有文件和文件目录for file in dirs:  print(file)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-mkdirs-path-mode-0o777"}},[s._v("os.mkdirs(path[,mode=0o777)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("os.makedirs() 方法用于递归创建目录。像 mkdir(), 但创建的所有intermediate-level文件夹需要包含子目录。")])]),s._v(" "),e("li",[e("p",[s._v("参数说明")])]),s._v(" "),e("li",[e("p",[s._v("path: 需要递归创建的目录")])]),s._v(" "),e("li",[e("p",[s._v("mode: 权限模式")])]),s._v(" "),e("li",[e("p",[s._v("代码示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, sys# 创建的目录path = '/home/dir/dir1/dir2/dir3'os.mkdirs(path, 0755)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-mkdir-path-mode"}},[s._v("os.mkdir(path, mode)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("os.mkdir() 方法用于以数字权限模式创建目录。默认的模式为 0777 (八进制)")])]),s._v(" "),e("li",[e("p",[s._v("参数说明")])]),s._v(" "),e("li",[e("p",[s._v("path: 要创建的目录")])]),s._v(" "),e("li",[e("p",[s._v("mode: 要为目录设置的权限数字模式")])]),s._v(" "),e("li",[e("p",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, sys# 创建的目录path = '/home/test'os.mkdir(path, 0755)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-remove-path"}},[s._v("os.remove(path)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("os.remove() 方法用于删除指定路径的文件。如果指定的路径是一个目录，将抛出OSError。在Unix, Windows中有效。")])]),s._v(" "),e("li",[e("p",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('import os, sys# 列出目录print(f"目录为:{os.listdir(os.getcwd())}")# 删除文件os.remove(\'test.txt\')# 列出移除目录print(f"移除文件后的目录为:{os.listdir(os.getcwd())}")\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-removedirs-path"}},[s._v("os.removedirs(path)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("os.removedirs() 方法用于递归删除目录。像rmdir(), 如果子文件夹成功删除, removedirs()才尝试它们的父文件夹,直到抛出一个error(它基本上被忽略,因为它一般意味着你文件夹不为空)。")])]),s._v(" "),e("li",[e("p",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('import os, sys# 列出目录print(f"目录为:{os.listdir(os.getcwd())}")# 移除目录及子目录os.removedirs(\'/home/test\')# 列出移除后的目录print(f"移除目录后:{os.listdir(os.getcwd())}")\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-rename-src-dst"}},[s._v("os.rename(src, dst)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("方法用于命名文件或目录，从 src 到 dst,如果dst是一个存在的目录, 将抛出OSError。")])]),s._v(" "),e("li",[e("p",[s._v("参数说明")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("src")]),s._v(" -- 要修改的目录名")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("dst")]),s._v(" -- 修改后的目录名")])]),s._v(" "),e("li",[e("p",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import os, sys# 列出目录print(f\"目录为：{os.listdir(os.getcwd())}\")# 重命名os.rename('test', 'testnew')# 列出重命名后的目录文件print(f\"目录为：{os.listdir(os.getcwd())}\")\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"os-rmdir-path"}},[s._v("os.rmdir(path)")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("函数说明")])]),s._v(" "),e("li",[e("p",[s._v("方法用于删除指定路径的目录。仅当这文件夹是空的才可以, 否则, 抛出OSError。")])]),s._v(" "),e("li",[e("p",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('import os, sys# 列出目录print (f"目录为: {os.listdir(os.getcwd())}")# 删除路径os.rmdir("mydir")# 列出删除空目录后的文件列表print (f"目录为: {os.listdir(os.getcwd())}")\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"后话"}},[s._v("后话")]),s._v(" "),e("p",[s._v("由于篇幅所限，仅简单介绍了os模块中常用的文件操作方法。有关fd(文件描述的相关方法)在这里没有介绍，如果有需要，请自行查阅Python官方文档。")])])}),[],!1,null,null,null);t.default=a.exports}}]);